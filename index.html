<!DOCTYPE html>
<html lang="pt-br">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>s13 - Surpresas</title>
    <link rel="stylesheet" href="styles.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Oxanium:wght@500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="titulo.png" type="image/jpeg">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6809594544652238"
        crossorigin="anonymous"></script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZHR64QY9RD"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-ZHR64QY9RD');
    </script>
</head>

<body>
    <canvas id="fireworks-bg" aria-hidden="true"></canvas>
    <div class="bg-space" aria-hidden="true">
        <span class="stars"></span>
        <span class="neon-lines"></span>
    </div>
    <header>
        <div class="float-x">
            <div class="float-y">
                <img id="titleImage" src="titulo.png" alt="titulo">
            </div>
        </div>
    </header>
    <div class="search-container">
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Buscar missão..." onkeyup="searchMission()">
          <button id="calcButton" type="button" onclick="openCalcModal()">
                Calculadora de Cartas     
        </button>
        </div>
    </div>

    <div class="mission-group">
        <div class="mission">
            <div class="mission-header" onclick="toggleMission(this.parentElement)">
                Último dia do ano (15/01)
            </div>
            <div class="mission-content">
                <ul>
                    <li>
                        <p><strong>(0/5) BD -</strong> Bugou Difícil</p>
                    </li>
                    <li>
                        <p><strong>(0/30) Ganhar GvG (Normal) -</strong> Ganhar 30 GvG Normal</p>
                    </li>
                    <li>
                        <p><strong>(0/5) PD -</strong> Pintinho Difícil</p>
                    </li>
                    <li>
                        <p><strong>(0/120) SPA -</strong> Ficar 120 minutos no SPA</p>
                    </li>
                </ul>
            </div>
            <!-- FIM MODELO MISSÃO -->
        </div>
        <div class="mission">
            <div class="mission-header" onclick="toggleMission(this.parentElement)">
                Último dia do ano (15/01)
            </div>
            <div class="mission-content">
                <ul>
                    <li>
                        <p><strong>(0/5) PN -</strong> Pintinho Normal</p>
                    </li>
                    <li>
                        <p><strong>(0/35) Ganhar GvG -</strong> Ganhar 35 GvG em qualquer modo</p>
                    </li>
                    <li>
                        <p><strong>(0/5) TPN -</strong> Tribo Piatan Normal</p>
                    </li>
                    <li>
                        <p><strong>Descobrindo -</strong> Em descoberta</p>
                    </li>
                </ul>
            </div>
            <!-- FIM MODELO MISSÃO -->
        </div>
        <div class="mission">
            <div class="mission-header" onclick="toggleMission(this.parentElement)">
                Trinta (14/01)
            </div>
            <div class="mission-content">
                <ul>
                    <li>
                        <p><strong>(0/25) Ganhar GvG -</strong> Ganhar 25 GvG</p>
                    </li>
                    <li>
                        <p><strong>(0/5) TPN -</strong> Tribo Piatan Normal</p>
                    </li>
                    <li>
                        <p><strong>(0/5) FF -</strong> Formigueiro Fácil</p>
                    </li>
                    <li>
                        <p><strong>(0/500) Pontos CF -</strong> Obter 500 pontos no CF</p>
                    </li>
                </ul>
            </div>
            <!-- FIM MODELO MISSÃO -->
        </div>
        <div class="mission">
            <div class="mission-header" onclick="toggleMission(this.parentElement)">
                    Segundinha (12/01)
            </div>
            <div class="mission-content">
            <ul>
                <li>
                    <p><strong>(0/3) CDD -</strong> Covil Dragão Difícil</p>
                </li>
                <li>
                    <p><strong>(0/5) FF -</strong> Formigueiro Fácil</p>
                </li>
                <li>
                    <p><strong>(0/3) TPN -</strong> Tribo Piatan Normal</p>
                </li>
                <li>
                    <p><strong>(0/25) Ir GvG -</strong> Ir 25 GvG qualquer modo</p>
                </li>
            </ul>
        </div>
        <!-- FIM MODELO MISSÃO -->
        </div>
        <div class="mission">
        <div class="mission-header" onclick="toggleMission(this.parentElement)">
                Domingo (12/01)
        </div>
        <div class="mission-content">
            <ul>
                <li>
                    <p><strong>(0/25) Matar PvP (Normal) -</strong> Matar 25 no PvP Normal</p>
                </li>
                <li>
                    <p><strong>(0/5) BN -</strong> Bugou Normal</p>
                </li>
                <li>
                    <p><strong>(0/5) TPD -</strong> Tribo Piatan Difícil</p>
                </li>
                <li>
                    <p><strong>(0/35) Matar GvG -</strong> Matar 35 no GvG qualquer modo</p>
                </li>
            </ul>
        </div>
        <!-- FIM MODELO MISSÃO -->
        </div>
    </div>
    <div class="mission-group">
            <div class="mission">
            <div class="mission-header" onclick="toggleMission(this.parentElement)">
                         F de Semana (10/01)
            </div>
            <div class="mission-content">
                <ul>
                    <li>
                        <p><strong>(0/3) CSD -</strong> Castelo Sombrio Difícil</p>
                    </li>
                    <li>
                        <p><strong>(0/3) TPN -</strong> Tribo Piatan Normal</p>
                    </li>
                    <li>
                        <p><strong>(0/25) Matar Torneio -</strong> Matar 25 em horário de Torneio</p>
                    </li>
                    <li>
                        <p><strong>(0/20) Ir PvP -</strong> Ir 20 PvP qualquer modo</p>
                    </li>
                </ul>
            </div>
   <!-- FIM MODELO MISSÃO -->
    </div>
    <div class="mission">
        <div class="mission-header" onclick="toggleMission(this.parentElement)">
            F de Semana (OLD) - (04/01)
        </div>
        <div class="mission-content">
            <ul>
                <li>
                    <p><strong>(0/20) Ganhar GvG -</strong> Ganhar 20 GvG qualquer modo</p>
                </li>
                <li>
                    <p><strong>(0/3) OBN -</strong> Olimpiadas Boom Normal</p>
                </li>
                <li>
                    <p><strong>(0/60) SPA -</strong> Ficar 60 minutos no SPA</p>
                </li>
                <li>
                    <p><strong>(0/5) PN -</strong> Galinheiro Normal</p>
                </li>
            </ul>
        </div>
        <!-- FIM MODELO MISSÃO -->
    </div>
</div>




        <!-- ---------------------------------------------------------------------------------------------------- -->
        <!-- ---------------------------------------------------------------------------------------------------- -->
        <!-- ---------------------------------------------------------------------------------------------------- -->
        <!-- ---------------------------------------------------------------------------------------------------- -->
        <!-- ---------------------------------------------------------------------------------------------------- -->
</section>
<div id="calcModal" class="calc-modal" aria-hidden="true">
  <div class="calc-modal__backdrop" onclick="closeCalcModal()"></div>

  <div class="calc-modal__panel" role="dialog" aria-modal="true" aria-label="Calculadora - Upgrade de Cartas">
    <button class="calc-modal__close" type="button" onclick="closeCalcModal()">×</button>

    <iframe id="calcModalFrame" src="backup.html?mode=modal" class="calc-modal__frame" frameborder="0"></iframe>

  </div>
</div>
<script>
    function clearInput() {
        document.getElementById("searchInput").value = "";
        searchMission();
    }

    function toggleMission(missionElement) {
        const content = missionElement.querySelector('.mission-content');
        if (!content) return;
        content.style.display = (content.style.display === "none" || content.style.display === "") ? "block" : "none";
    }

    function searchMission() {
        const input = document.getElementById("searchInput");
        if (!input) return;
        const filter = input.value.toUpperCase();
        const missions = document.querySelectorAll(".mission");

        for (const mission of missions) {
        const text = mission.textContent || mission.innerText;
        const trimmedText = (text || "").toUpperCase().trim();

        const match = trimmedText.includes(filter) || filter === "";
        mission.classList.toggle("non-matching", !match);

        const missionHeader = mission.querySelector(".mission-header");
        if (missionHeader) missionHeader.style.backgroundColor = match ? "" : "rgba(220,220,220,0.8)";
        mission.style.backgroundColor = match ? "" : "rgba(220,220,220,0.8)";
        mission.style.animation = match ? "pulseBackground 3s infinite ease-in-out, glowingBorder 2s infinite ease-in-out" : "none";

        const content = mission.querySelector('.mission-content');
        if (content) content.style.display = match ? "block" : "none";
        }
    }

    function copyMissions(missionGroup) {
        if (!missionGroup) return;
        const missions = missionGroup.querySelectorAll('.mission');
        if (!missions.length) return;

        let textToCopy = '';
        missions.forEach((mission) => {
        const headerEl = mission.querySelector('.mission-header');
        if (!headerEl) return;
        textToCopy += (headerEl.textContent || "").trim() + '\n';

        const details = mission.querySelectorAll('.mission-content li p');
        details.forEach((detail) => {
            let cleanDetail = (detail.textContent || "").trim().replace(/(\s*\n\s*)+/g, ' ');
            textToCopy += '- ' + cleanDetail + '\n';
        });
        textToCopy += '\n';
        });

        const textarea = document.createElement('textarea');
        textarea.value = textToCopy;
        document.body.appendChild(textarea);
        textarea.select();
        document.execCommand('copy');
        document.body.removeChild(textarea);
        alert("Missões copiadas para a área de transferência!");
    }

    function countVisitsInConsole() {
        const visitCount = localStorage.getItem('visitCountConsole');
        const newCount = visitCount ? (parseInt(visitCount, 10) || 0) + 1 : 1;
        localStorage.setItem('visitCountConsole', newCount);
        console.log(`Visitas nesta página: ${newCount}`);
    }

    document.addEventListener("DOMContentLoaded", function () {
        countVisitsInConsole();

        // Evita erro quando .destaque-branco p não existe
        const textElement = document.querySelector(".destaque-branco p");
        if (textElement) {
        const animations = ["lightPassHorizontal","lightPassVertical","lightPassDiagonal","lightPassCircular"];
        const randomDirection = animations[Math.floor(Math.random() * animations.length)];
        textElement.style.animation = `${randomDirection} 1s infinite linear`;
        }
    });

    function openCalcModal(){
    const m = document.getElementById("calcModal");
    if (!m) return;
    m.classList.add("is-open");
    m.setAttribute("aria-hidden","false");
    document.body.classList.add("modal-open");
    }

    function closeCalcModal(){
    const m = document.getElementById("calcModal");
    if (!m) return;
    m.classList.remove("is-open");
    m.setAttribute("aria-hidden","true");
    document.body.classList.remove("modal-open");
    }

    document.addEventListener("keydown", (e) => {
    if (e.key === "Escape") closeCalcModal();
    });
</script>
<script>
(() => {
  const canvas = document.getElementById('fireworks-bg');
  if (!canvas) return;

  const ctx = canvas.getContext('2d', { alpha: true });

  function resize(){
    canvas.width  = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  window.addEventListener('resize', resize, { passive: true });
  resize();

  const fireworks = [];
  const particles = [];

  function clamp(v, a, b){ return Math.max(a, Math.min(b, v)); }

  // ===== CONFIG (ajustes principais) =====
  const SPAWN_CHANCE = 0.015;   // menor = menos fogos (mais elegante)
  const PARTICLES_PER_BOOM = 56; // mais partículas = explosão mais "cheia"
  const LIFE = 110;             // maior = explosão dura mais
  const GRAVITY = 0.02;         // menor = cai mais devagar
  const FADE_DIV = LIFE;        // usado no alpha (não mexer)
  // ======================================

  function Firework(){
    this.x = Math.random() * canvas.width;
    this.y = canvas.height + 30;

    // alvo mais no topo (fogos mais "no céu")
    this.targetY = Math.random() * canvas.height * 0.45 + 40;

    // subida mais lenta
    this.vy = 2 + Math.random() * 1.2;

    // cor mais forte
    this.color = `hsl(${Math.random()*360},100%,70%)`;

    // trilha leve
    this.trail = [];
    this.trailMax = 10;
  }

  Firework.prototype.update = function(){
    // trilha
    this.trail.push({ x: this.x, y: this.y });
    if (this.trail.length > this.trailMax) this.trail.shift();

    this.y -= this.vy;

    if (this.y <= this.targetY){
      explode(this.x, this.y, this.color);
      return false;
    }
    return true;
  };

  Firework.prototype.draw = function(){
    // trilha com brilho
    for (let i = 0; i < this.trail.length; i++){
      const t = this.trail[i];
      const a = (i + 1) / this.trail.length;
      ctx.globalAlpha = a * 0.35;
      ctx.fillStyle = this.color;
      ctx.fillRect(t.x, t.y, 2, 6);
    }

    // cabeça do foguete
    ctx.globalAlpha = 1;
    ctx.fillStyle = this.color;
    ctx.fillRect(this.x, this.y, 2, 7);
  };

  function Particle(x, y, color){
    this.x = x; this.y = y;

    const a = Math.random() * Math.PI * 2;

    // velocidade mais lenta
    const s = Math.random() * 2.5 + 0.6;

    this.vx = Math.cos(a) * s;
    this.vy = Math.sin(a) * s;

    this.life = LIFE;
    this.color = color;

    // tamanho ligeiramente maior (mais presença)
    this.r = Math.random() * 1.6 + 1.2;
  }

  function explode(x, y, color){
    for (let i = 0; i < PARTICLES_PER_BOOM; i++){
      particles.push(new Particle(x, y, color));
    }
  }

  function loop(){
    // limpa sem "fantasma"
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // spawn mais controlado
    if (Math.random() < SPAWN_CHANCE){
      fireworks.push(new Firework());
    }

    // foguetes
    for (let i = fireworks.length - 1; i >= 0; i--){
      const f = fireworks[i];
      if (!f.update()){
        fireworks.splice(i, 1);
      } else {
        f.draw();
      }
    }

    // partículas
    for (let i = particles.length - 1; i >= 0; i--){
      const p = particles[i];

      p.x += p.vx;
      p.y += p.vy;

      // gravidade mais suave
      p.vy += GRAVITY;

      // leve atrito (deixa mais “cinematográfico”)
      p.vx *= 0.99;
      p.vy *= 0.99;

      p.life--;

      // brilho melhor (mais "forte")
      const alpha = clamp(p.life / FADE_DIV, 0, 1);
      ctx.globalAlpha = alpha;

      ctx.beginPath();
      ctx.fillStyle = p.color;
      ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
      ctx.fill();

      // halo suave (aumenta impacto)
      ctx.globalAlpha = alpha * 0.35;
      ctx.beginPath();
      ctx.fillStyle = p.color;
      ctx.arc(p.x, p.y, p.r * 2.2, 0, Math.PI * 2);
      ctx.fill();

      if (p.life <= 0) particles.splice(i, 1);
    }

    ctx.globalAlpha = 1;
    requestAnimationFrame(loop);
  }

  loop();
})();
</script>

<!-- WhatsApp Contact Button -->
<a class="whatsapp-link" href="https://wa.me/5521966591901" target="_blank" rel="noopener noreferrer" aria-label="Contato WhatsApp">
    <img src="WhatsApp.png" alt="WhatsApp" width="90" height="90" />
    <span style="margin-left: 10px; font-weight: 700; color: #fff;">Enviar missão no WhatsApp</span>
        <!-- Link configurado para +55 21 96659-1901 -->
</a>

</body>
</html>

